{
  "version": 3,
  "sources": ["../../../../Documents/IdentificaPix/netlify-functions/getAISuggestion.js", "../../../../Documents/IdentificaPix/netlify-functions/services/monitoringService.ts"],
  "sourceRoot": "C:/Users/Pc/AppData/Local/Temp/tmp-11868-COsDFL6UIuAD",
  "sourcesContent": ["import { Logger, Metrics } from \"./services/monitoringService.js\";\r\n\r\nexport const handler = async (event) => {\r\n  try {\r\n    Logger.info(\"Fun\u00E7\u00E3o getAISuggestion chamada\", { event });\r\n\r\n    // Exemplo de incremento de m\u00E9trica\r\n    Metrics.increment(\"totalTransactions\");\r\n\r\n    return {\r\n      statusCode: 200,\r\n      body: JSON.stringify({\r\n        message: \"Fun\u00E7\u00E3o executada com sucesso\",\r\n        metrics: Metrics.get(),\r\n      }),\r\n    };\r\n  } catch (error) {\r\n    Logger.error(\"Erro na fun\u00E7\u00E3o getAISuggestion\", error);\r\n\r\n    return {\r\n      statusCode: 500,\r\n      body: JSON.stringify({\r\n        message: \"Erro interno\",\r\n        error: error.message,\r\n      }),\r\n    };\r\n  }\r\n};\r\n", "export const Logger = {\n  info: (message, data) => console.log(`[INFO] ${new Date().toISOString()} | ${message}`, data || ''),\n  warn: (message, data) => console.warn(`[WARN] ${new Date().toISOString()} | ${message}`, data || ''),\n  error: (message, error, data) => {\n    const errorData = error instanceof Error ? { name: error.name, message: error.message, stack: error.stack } : { error };\n    console.error(`[ERROR] ${new Date().toISOString()} | ${message}`, { ...errorData, ...data });\n  }\n};\n\nconst metrics = { \n  totalTransactions: 0, \n  processingTimeMs: 0,\n  filesParsed: 0,\n  parsingErrors: 0,\n  matches: 0,\n  divergences: 0,\n  apiErrors: 0\n};\n\nexport const Metrics = {\n  increment: (key, value = 1) => {\n    if (metrics[key] !== undefined) metrics[key] += value;\n  },\n  set: (key, value) => {\n    if (metrics[key] !== undefined) metrics[key] = value;\n  },\n  reset: () => {\n    Object.keys(metrics).forEach(k => metrics[k] = 0);\n  },\n  get: () => ({ ...metrics })\n};"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACAO,IAAM,SAAS;AAAA,EACpB,MAAM,CAAC,SAAS,SAAS,QAAQ,IAAI,WAAU,oBAAI,KAAK,GAAE,YAAY,CAAC,MAAM,OAAO,IAAI,QAAQ,EAAE;AAAA,EAClG,MAAM,CAAC,SAAS,SAAS,QAAQ,KAAK,WAAU,oBAAI,KAAK,GAAE,YAAY,CAAC,MAAM,OAAO,IAAI,QAAQ,EAAE;AAAA,EACnG,OAAO,CAAC,SAAS,OAAO,SAAS;AAC/B,UAAM,YAAY,iBAAiB,QAAQ,EAAE,MAAM,MAAM,MAAM,SAAS,MAAM,SAAS,OAAO,MAAM,MAAM,IAAI,EAAE,MAAM;AACtH,YAAQ,MAAM,YAAW,oBAAI,KAAK,GAAE,YAAY,CAAC,MAAM,OAAO,IAAI,EAAE,GAAG,WAAW,GAAG,KAAK,CAAC;AAAA,EAC7F;AACF;AAEA,IAAM,UAAU;AAAA,EACd,mBAAmB;AAAA,EACnB,kBAAkB;AAAA,EAClB,aAAa;AAAA,EACb,eAAe;AAAA,EACf,SAAS;AAAA,EACT,aAAa;AAAA,EACb,WAAW;AACb;AAEO,IAAM,UAAU;AAAA,EACrB,WAAW,CAAC,KAAK,QAAQ,MAAM;AAC7B,QAAI,QAAQ,GAAG,MAAM,OAAW,SAAQ,GAAG,KAAK;AAAA,EAClD;AAAA,EACA,KAAK,CAAC,KAAK,UAAU;AACnB,QAAI,QAAQ,GAAG,MAAM,OAAW,SAAQ,GAAG,IAAI;AAAA,EACjD;AAAA,EACA,OAAO,MAAM;AACX,WAAO,KAAK,OAAO,EAAE,QAAQ,OAAK,QAAQ,CAAC,IAAI,CAAC;AAAA,EAClD;AAAA,EACA,KAAK,OAAO,EAAE,GAAG,QAAQ;AAC3B;;;AD5BO,IAAM,UAAU,OAAO,UAAU;AACtC,MAAI;AACF,WAAO,KAAK,wCAAkC,EAAE,MAAM,CAAC;AAGvD,YAAQ,UAAU,mBAAmB;AAErC,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU;AAAA,QACnB,SAAS;AAAA,QACT,SAAS,QAAQ,IAAI;AAAA,MACvB,CAAC;AAAA,IACH;AAAA,EACF,SAAS,OAAO;AACd,WAAO,MAAM,wCAAkC,KAAK;AAEpD,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU;AAAA,QACnB,SAAS;AAAA,QACT,OAAO,MAAM;AAAA,MACf,CAAC;AAAA,IACH;AAAA,EACF;AACF;",
  "names": []
}
